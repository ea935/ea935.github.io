<!doctype html><html lang=en><head><meta charset=UTF-8><meta content="IE=edge" http-equiv=X-UA-Compatible><meta content="text/html; charset=UTF-8" http-equiv=content-type><meta content="width=device-width,initial-scale=1" name=viewport><title>High frequency-ratio anagrams</title><meta content="High frequency-ratio anagrams" name=title><meta content="Zola v0.16.1" name=generator><meta content=website property=og:type><meta content=https://ea935.github.io/blog/anagrams/ property=og:url><meta content=ea935 property=og:site_name><meta content="High frequency-ratio anagrams" property=og:title><meta content=summary_large_image property=twitter:card><meta content=https://ea935.github.io/blog/anagrams/ property=twitter:url><meta content="High frequency-ratio anagrams" property=twitter:title><link href=https://ea935.github.io/blog/anagrams/ rel=canonical><script type=application/ld+json>
            {
                
                "url":"https://ea935.github.io/blog/anagrams/",
                "@type":"WebSite",
                "headline":"High frequency-ratio anagrams",
                "name":"High frequency-ratio anagrams",
                
                "@context":"https://schema.org"
            }
        </script><link href=https://ea935.github.io/atom.xml rel=alternate title=RSS type=application/atom+xml><link href=https://ea935.github.io/style.css rel=stylesheet><body theme=auto><div class=w><header><p><a href=https://ea935.github.io>~</a>/<a href=https://ea935.github.io/blog>blog</a>/anagrams<p class=post-meta><time datetime=2025-04-22>2025-04-22</time><h1>High frequency-ratio anagrams</h1></header><main aria-label=Content class=page-content><p>I love looking up words on <a href=https://wiktionary.org/ rel=noreferrer>Wiktionary</a> in my free time. Looking up <em>bouncy castle</em> was particularly fruitful because I learned this fairly common word is an anagram of â€œcyclobutanesâ€, a comparatively rare word Iâ€™d never heard before.</p><img class=invertable src=https://ea935.github.io/processed_images/bouncy-castle-wiktionary.70ad730e215eb9a0.webp><p>I figured it must be possible to semi-automatically find more entertaining anagrams; youâ€™d just need a word list and preferably some kind of commonality metric.<p>My first port of call for a word list was naturally <code>/usr/share/dict/words</code>, but unfortunately on my system (where itâ€™s provided by <code>wamerican</code>), itâ€™s fairly small - in fact, it doesnâ€™t even contain â€œcyclobutanesâ€.<p>Blessedly though, Google seems to have forgotten itâ€™s still hosting a common good: <a href=https://storage.googleapis.com/books/ngrams/books/datasetsv2.html rel=noreferrer>Google Booksâ€™ <em>Ngram Viewer</em> dataset</a> - every single ngram from every book Google has OCRed and how many times theyâ€™ve seen it. Now, this is a dataset of <em>ngrams</em>, not <em>words</em>, but 1-gram ngram basically means the same thing as â€œwordâ€ and <a href="https://www.youtube.com/watch?v=m8niIHChc1Y" rel=noreferrer>you should just not worry about it</a>.<h2 id=massaging-the-data><a aria-label="Anchor link for: massaging-the-data" class=zola-anchor href=#massaging-the-data>ğŸ”—</a>Massaging the Data</h2><p>The dataset is split into about 25 files with one CSV for each letter of the alphabet, so I threw together a <a href=https://github.com/ea935/x/blob/master/anagrams/download.py rel=noreferrer>script</a> to download all of the CSVs.<p>Additionally, the data isnâ€™t in the exact right format yet. The CSVs actually record how many times a word was seen <em>in a given year</em>, and how many pages and volumes it was seen on. This makes the CSVs way bigger than they need to be for my purposes, which makes computations way slower. So I have to fix that too. At first I wrote another Python script to do this, but my naÃ¯ve algorithm was frankly way too slow so I scrapped it and <a href=https://github.com/ea935/x/blob/master/anagrams/src/main.rs#L102 rel=noreferrer>used Rust instead</a>. I also <a href=https://github.com/ea935/x/blob/master/anagrams/src/main.rs#L81 rel=noreferrer>sorted the words by frequency</a> so that I can find anagrams with the highest frequency ratio by selecting a word from the top of the list then iterating up from the bottom.<p>Something I discovered very quickly is that my code shouldnâ€™t <a href=https://github.com/ea935/x/blob/master/anagrams/src/main.rs#L45 rel=noreferrer>consider a word an anagram of itself</a> (is a word an anagram of itself?), and that Googleâ€™s dataset wasnâ€™t perfect. Because the data is from OCRed books, and OCR isnâ€™t infallible, most of the words with very low frequencies were actually other words misspelt or misread, so I <a href=https://github.com/ea935/x/blob/master/anagrams/src/main.rs#L49 rel=noreferrer>skipped words with very low frequencies</a> too. I also threw out words <a href=https://github.com/ea935/x/blob/master/anagrams/src/main.rs#L26 rel=noreferrer>under 10 letters long</a> because those are boring.<p>My method of determining whether two words were anagrams was naÃ¯ve (this is a theme) - sort the letters of both words and check if the results are identical.<p>And thatâ€™s pretty much it! My program started spitting out multiple anagrams every second.</p><img src=/images/anagram-o-matic.webp><p>It still produces â€œanagramsâ€ between a word and a misspelling, but thereâ€™s few enough to filter out manually - which I have to do anyway, because computers are incapable yet of objectively measuring humour.<h2 id=results><a aria-label="Anchor link for: results" class=zola-anchor href=#results>ğŸ”—</a>Results</h2><p>First and foremost, this gem:<table><thead><tr><th>Eins<th>Zwei<tbody><tr><td>legislator<td>allegorists</table><h3 id=common-uncommon-pairs><a aria-label="Anchor link for: common-uncommon-pairs" class=zola-anchor href=#common-uncommon-pairs>ğŸ”—</a>Common/uncommon Pairs</h3><table><thead><tr><th>Uno<th>Dos<tbody><tr><td>regulation<td>urogenital<tr><td>oscillation<td>colonialist<tr><td>generations<td>nitrogenase<tr><td>enlargement<td>greenmantle<tr><td>incorporate<td>procreation<tr><td>petrochemicals<td>cephalometric<tr><td>disharmony<td>hydramnios<tr><td>paternalistic<td>antiparticles<tr><td>intoxicate<td>excitation<tr><td>relationships<td>rhinoplasties<tr><td>residential<td>estrildinae<tr><td>nationalised<td>desalination<tr><td>Gasherbrum<td>hamburgers<tr><td>parenthesis<td>interphases<tr><td>complicates<td>ectoplasmic<tr><td>absolution<td>isobutanol<tr><td>insatiable<td>banalities</table><h3 id=antonym-pairs><a aria-label="Anchor link for: antonym-pairs" class=zola-anchor href=#antonym-pairs>ğŸ”—</a>Antonym Pairs</h3><table><thead><tr><th>Un<th>Deux<tbody><tr><td>compressed<td>decompress<tr><td>marginally<td>alarmingly<tr><td>desecration<td>considerate</table><h3 id=misc><a aria-label="Anchor link for: misc" class=zola-anchor href=#misc>ğŸ”—</a>Misc.</h3><table><thead><tr><th>ä¸€<th>äºŒ<tbody><tr><td>assimilation<td>islamisation<tr><td>catherals<td>hard castle<tr><td>tapestries<td>striptease<tr><td>inconsiderate<td>containerised<tr><td>streamlined<td>derailments<tr><td>supersonic<td>percussion<tr><td>chattering<td>ratcheting<tr><td>mountaineer<td>enumeration<tr><td>algorithms<td>logarithms<tr><td>recruitment<td>current time<tr><td>interpreter<td>reinterpret<tr><td>reductions<td>discounter</table><p>The source code is available <a href=https://github.com/ea935/x/tree/master/anagrams rel=noreferrer>here</a>. I also included the sorted word/frequency data as a CSV.</main><footer><p class=taxonomies></footer></div>